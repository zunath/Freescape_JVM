#!/bin/sh

docker run --rm -it \
-p 5151:5151/udp -p 8000:8000 \
-e NWN_PORT=5151 \
-v $(pwd):/nwn/home \
-e NWN_SERVERNAME="\"Freescape\"" \
-e NWN_MODULE="Freescape v2 CEP265" \
-e NWN_PUBLICSERVER=1 \
-e NWN_MAXCLIENTS=96 \
-e NWN_MINLEVEL=1 \
-e NWN_MAXLEVEL=40 \
-e NWN_PAUSEANDPLAY=0 \
-e NWN_PVP=2 \
-e NWN_SERVERVAULT=1 \
-e NWN_ELC=0 \
-e NWN_ILR=0 \
-e NWN_GAMETYPE=3 \
-e NWN_ONEPARTY=0 \
-e NWN_DIFFICULTY=3 \
-e NWN_PLAYERPASSWORD="playerPassworod" \
-e NWN_DMPASSWORD="dmPassword" \
-e NWN_ADMINPASSWORD="adminPassword" \
-e NWNX_ADMINISTRATION_SKIP=y \
-e NWNX_BEHAVIOURTREE_SKIP=y \
-e NWNX_CHAT_SKIP=n \
-e NWNX_CREATURE_SKIP=n \
-e NWNX_EVENTS_SKIP=n \
-e NWNX_DATA_SKIP=y \
-e NWNX_JVM_SKIP=n \
-e NWNX_METRICS_INFLUXDB_SKIP=y \
-e NWNX_OBJECT_SKIP=n \
-e NWNX_PLAYER_SKIP=n \
-e NWNX_RUBY_SKIP=y \
-e NWNX_SERVERLOGREDIRECTOR_SKIP=y \
-e NWNX_SQL_SKIP=y \
-e NWNX_THREADWATCHDOG_SKIP=y \
-e NWNX_TRACKING_SKIP=y \
-e NWNX_JVM_INIT_LISTENER="Common/StartUp" \
-e NWNX_JVM_CLASSPATH="/nwn/home/jvm/org.nwnx.nwnx2.jvm.jar:/nwn/home/jvm/Freescape.jar" \
-e SQL_SERVER_IP_ADDRESS=127.0.0.1 \
-e SQL_SERVER_USERNAME=yourUsername \
-e SQL_SERVER_PASSWORD=yourPassword \
-e SQL_SERVER_DATABASE=czs-db \
nwnxee/nwserver:8166.java
